{"ast":null,"code":"import _toConsumableArray from\"/Users/itoukazunari/Desktop/ec-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/itoukazunari/Desktop/ec-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useCallback,useEffect,useState}from'react';import{TextInput}from\"../UIkit\";import IconButton from\"@material-ui/core/IconButton\";import CheckCircleIcon from'@material-ui/icons/CheckCircle';import DeleteIcon from'@material-ui/icons/Delete';import EditIcon from'@material-ui/icons/Edit';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Paper from'@material-ui/core/Paper';import{makeStyles}from\"@material-ui/styles\";var useStyles=makeStyles({iconCell:{height:48,width:48,padding:0},checkIcon:{float:'right'}});var SetSizesArea=function SetSizesArea(props){var classes=useStyles();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),index=_useState2[0],setIndex=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),size=_useState4[0],setSize=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),quantity=_useState6[0],setQuantity=_useState6[1];var inputSize=useCallback(function(event){setSize(event.target.value);},[setSize]);var inputQuantity=useCallback(function(event){setQuantity(event.target.value);},[setQuantity]);// サイズと数量のstateを変更するメソット\nvar addSize=useCallback(function(index,size,quantity){if(size===\"\"||quantity===\"\"){return false;}else{// 新規追加の場合\nif(index===props.sizes.length){props.setSizes(function(prevState){return[].concat(_toConsumableArray(prevState),[{size:size,quantity:quantity}]);});setIndex(index+1);setSize(\"\");setQuantity(0);}else{// indexと配列数が一致していない場合なので編集の時\nvar newSizes=props.sizes;newSizes[index]={size:size,quantity:quantity};props.setSizes(newSizes);// 初期値に値を戻す\nsetIndex(newSizes.length);setSize(\"\");setQuantity(0);}}});// サイズと数量を編集\nvar editSize=function editSize(index,size,quantity){setIndex(index);setSize(size);setQuantity(quantity);};// 削除する際の実装\nvar deleteSize=function deleteSize(deleteIndex){var newSizes=props.sizes.filter(function(item,index){return index!==deleteIndex;});props.setSizes(newSizes);};// 編集が行われた場合にindexを修正する\nvar memoIndex=useEffect(function(){setIndex(props.sizes.length);},[props.sizes.length]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(TableContainer,{component:Paper,children:[/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"\\u30B5\\u30A4\\u30BA\"}),/*#__PURE__*/_jsx(TableCell,{children:\"\\u6570\\u91CF\"}),/*#__PURE__*/_jsx(TableCell,{className:classes.iconCell}),/*#__PURE__*/_jsx(TableCell,{className:classes.iconCell})]})}),/*#__PURE__*/_jsx(TableBody,{children:props.sizes.length>0&&props.sizes.map(function(item,index){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:item.size}),/*#__PURE__*/_jsx(TableCell,{children:item.quantity}),/*#__PURE__*/_jsx(TableCell,{className:classes.iconCell,children:/*#__PURE__*/_jsx(IconButton,{className:classes.iconCell,onClick:function onClick(){return editSize(index,item.size,item.quantity);},children:/*#__PURE__*/_jsx(EditIcon,{})})}),/*#__PURE__*/_jsx(TableCell,{className:classes.iconCell,children:/*#__PURE__*/_jsx(IconButton,{className:classes.iconCell,onClick:function onClick(){return deleteSize(index);},children:/*#__PURE__*/_jsx(DeleteIcon,{})})})]},item.size);})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(TextInput,{fullWidth:false,label:\"サイズ\",multiline:false,required:true,rows:1,value:size,type:\"text\",onChange:inputSize}),/*#__PURE__*/_jsx(TextInput,{fullWidth:false,label:\"数量\",multiline:false,required:true,rows:1,value:quantity,type:\"number\",onChange:inputQuantity})]}),/*#__PURE__*/_jsx(IconButton,{className:classes.checkIcon,onClick:function onClick(){return addSize(index,size,quantity);},children:/*#__PURE__*/_jsx(CheckCircleIcon,{})})]})});};export default SetSizesArea;","map":{"version":3,"sources":["/Users/itoukazunari/Desktop/ec-app/src/componets/Producuts/SetSizesArea.jsx"],"names":["React","useCallback","useEffect","useState","TextInput","IconButton","CheckCircleIcon","DeleteIcon","EditIcon","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","makeStyles","useStyles","iconCell","height","width","padding","checkIcon","float","SetSizesArea","props","classes","index","setIndex","size","setSize","quantity","setQuantity","inputSize","event","target","value","inputQuantity","addSize","sizes","length","setSizes","prevState","newSizes","editSize","deleteSize","deleteIndex","filter","item","memoIndex","map"],"mappings":"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","sourcesContent":["import React, {useCallback, useEffect, useState} from 'react';\nimport {TextInput} from \"../UIkit\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport {makeStyles} from \"@material-ui/styles\";\n\n\nconst useStyles = makeStyles({\n  iconCell:{\n    height:48,\n    width:48,\n    padding:0\n  },\n  checkIcon: {\n      float: 'right'\n  },\n})\n\nconst SetSizesArea = (props) => {\n  const classes = useStyles();\n\n  const [index, setIndex] = useState(0);\n  const [size, setSize] = useState(\"\");\n  const [quantity, setQuantity] = useState(0);\n\n  const inputSize = useCallback((event) => {\n    setSize(event.target.value)\n  }, [setSize])\n\n  const inputQuantity = useCallback((event) => {\n    setQuantity(event.target.value)\n  }, [setQuantity])\n\n  // サイズと数量のstateを変更するメソット\n  const addSize = useCallback((index, size, quantity)=>{\n      if(size === \"\" || quantity === \"\"){\n        return false;\n      }else{\n        // 新規追加の場合\n        if(index === props.sizes.length){\n          props.setSizes(prevState => [...prevState, {size: size, quantity: quantity}])\n          setIndex(index + 1);\n          setSize(\"\");\n          setQuantity(0);\n        }else{\n          // indexと配列数が一致していない場合なので編集の時\n          const newSizes = props.sizes;\n          newSizes[index] = {size:size, quantity:quantity}\n          props.setSizes(newSizes)\n          // 初期値に値を戻す\n          setIndex(newSizes.length);\n          setSize(\"\");\n          setQuantity(0);\n        }\n      \n      }\n  })  \n\n  // サイズと数量を編集\n  const editSize = (index, size, quantity) => {\n        setIndex(index);\n        setSize(size);\n        setQuantity(quantity);\n  }\n\n  // 削除する際の実装\n  const deleteSize = (deleteIndex) => {\n        const newSizes = props.sizes.filter((item, index) => index !== deleteIndex)\n        props.setSizes(newSizes);\n    }\n\n  // 編集が行われた場合にindexを修正する\n  const memoIndex = useEffect(()=>{\n    setIndex(props.sizes.length);\n  }, [props.sizes.length])\n\n  return(\n    <div>\n      <TableContainer component={Paper}>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>サイズ</TableCell>\n              <TableCell>数量</TableCell>\n              <TableCell className={classes.iconCell}></TableCell>\n              <TableCell className={classes.iconCell}></TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {props.sizes.length > 0 && (\n              props.sizes.map((item, index) => (\n                  <TableRow key={item.size}>\n                  <TableCell>{item.size}</TableCell>\n                  <TableCell>{item.quantity}</TableCell>\n                  <TableCell className={classes.iconCell}>\n                    <IconButton className={classes.iconCell} onClick={()=>editSize(index, item.size, item.quantity)}>\n                    <EditIcon />\n                    </IconButton>\n                  </TableCell>\n                  <TableCell className={classes.iconCell}>\n                    <IconButton className={classes.iconCell} onClick={()=> deleteSize(index)}>\n                    <DeleteIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))\n            )}\n          </TableBody>\n        </Table>\n        <div>\n        <TextInput\n          fullWidth={false}\n          label={\"サイズ\"}\n          multiline={false}\n          required={true}\n          rows={1}\n          value={size}\n          type={\"text\"}\n          onChange={inputSize}\n        />\n        <TextInput\n          fullWidth={false}\n          label={\"数量\"}\n          multiline={false}\n          required={true}\n          rows={1}\n          value={quantity}\n          type={\"number\"}\n          onChange={inputQuantity}\n        />\n        </div>\n        <IconButton className={classes.checkIcon} onClick={() => addSize(index, size, quantity)}>\n          <CheckCircleIcon/>\n        </IconButton>\n      </TableContainer >\n    </div>\n\n  )\n}\n\nexport default SetSizesArea"]},"metadata":{},"sourceType":"module"}