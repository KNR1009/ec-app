{"ast":null,"code":"const headers = new Headers();\nheaders.set('Content-type', 'application/json');\nconst BASE_URL = \"https://ec-app-8ba0b.web.app/\";\nexport const registerCard = () => {\n  return async (dispatch, getState) => {\n    const user = getState().users;\n    const email = user.email;\n    const uid = user.id;\n    const username = user.name;\n\n    if (!stripe || !elements) {\n      // Stripe.js has not loaded yet. Make sure to disable\n      // form submission until Stripe.js has loaded.\n      return;\n    } // Get a reference to a mounted CardElement. Elements knows how\n    // to find your CardElement because there can only ever be one of\n    // each type of element.\n\n\n    const cardElement = elements.getElement(CardElement); // Use your card Element with other Stripe.js APIs\n\n    const {\n      error,\n      paymentMethod\n    } = await stripe.createPaymentMethod({\n      type: 'card',\n      card: cardElement\n    });\n\n    if (error) {\n      console.log('[error]', error);\n    } else {\n      console.log('[PaymentMethod]', paymentMethod);\n    }\n  };\n};","map":{"version":3,"sources":["/Users/itoukazunari/Desktop/ec-app/src/reducks/payments/operations.js"],"names":["headers","Headers","set","BASE_URL","registerCard","dispatch","getState","user","users","email","uid","id","username","name","stripe","elements","cardElement","getElement","CardElement","error","paymentMethod","createPaymentMethod","type","card","console","log"],"mappings":"AAAA,MAAMA,OAAO,GAAG,IAAIC,OAAJ,EAAhB;AACAD,OAAO,CAACE,GAAR,CAAY,cAAZ,EAA4B,kBAA5B;AACA,MAAMC,QAAQ,GAAG,+BAAjB;AAEA,OAAO,MAAMC,YAAY,GAAG,MAAM;AAChC,SAAO,OAAOC,QAAP,EAAiBC,QAAjB,KAA6B;AAClC,UAAMC,IAAI,GAAGD,QAAQ,GAAGE,KAAxB;AACA,UAAMC,KAAK,GAAEF,IAAI,CAACE,KAAlB;AACA,UAAMC,GAAG,GAAGH,IAAI,CAACI,EAAjB;AACA,UAAMC,QAAQ,GAAGL,IAAI,CAACM,IAAtB;;AAIA,QAAI,CAACC,MAAD,IAAW,CAACC,QAAhB,EAA0B;AACxB;AACA;AACA;AACD,KAZiC,CAclC;AACA;AACA;;;AACA,UAAMC,WAAW,GAAGD,QAAQ,CAACE,UAAT,CAAoBC,WAApB,CAApB,CAjBkC,CAmBlC;;AACA,UAAM;AAACC,MAAAA,KAAD;AAAQC,MAAAA;AAAR,QAAyB,MAAMN,MAAM,CAACO,mBAAP,CAA2B;AAC9DC,MAAAA,IAAI,EAAE,MADwD;AAE9DC,MAAAA,IAAI,EAAEP;AAFwD,KAA3B,CAArC;;AAKA,QAAIG,KAAJ,EAAW;AACTK,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBN,KAAvB;AACD,KAFD,MAEO;AACLK,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BL,aAA/B;AACD;AAEF,GA/BD;AAgCD,CAjCM","sourcesContent":["const headers = new Headers();\nheaders.set('Content-type', 'application/json');\nconst BASE_URL = \"https://ec-app-8ba0b.web.app/\"\n\nexport const registerCard = () => {\n  return async (dispatch, getState)=> {\n    const user = getState().users;\n    const email= user.email\n    const uid = user.id\n    const username = user.name\n\n\n\n    if (!stripe || !elements) {\n      // Stripe.js has not loaded yet. Make sure to disable\n      // form submission until Stripe.js has loaded.\n      return;\n    }\n\n    // Get a reference to a mounted CardElement. Elements knows how\n    // to find your CardElement because there can only ever be one of\n    // each type of element.\n    const cardElement = elements.getElement(CardElement);\n\n    // Use your card Element with other Stripe.js APIs\n    const {error, paymentMethod} = await stripe.createPaymentMethod({\n      type: 'card',\n      card: cardElement,\n    });\n\n    if (error) {\n      console.log('[error]', error);\n    } else {\n      console.log('[PaymentMethod]', paymentMethod);\n    }\n    \n  }\n}"]},"metadata":{},"sourceType":"module"}