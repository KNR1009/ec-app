{"ast":null,"code":"import _toConsumableArray from\"/Users/itoukazunari/Desktop/ec-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/itoukazunari/Desktop/ec-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/itoukazunari/Desktop/ec-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useCallback,useEffect,useState}from'react';import Divider from'@material-ui/core/Divider';import Drawer from'@material-ui/core/Drawer';import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemIcon from'@material-ui/core/ListItemIcon';import ListItemText from'@material-ui/core/ListItemText';import{makeStyles,createStyles}from'@material-ui/core/styles';import IconButton from\"@material-ui/core/IconButton\";import SearchIcon from\"@material-ui/icons/Search\";import AddCircleIcon from'@material-ui/icons/AddCircle';import HistoryIcon from'@material-ui/icons/History';import PersonIcon from'@material-ui/icons/Person';import ExitToAppIcon from'@material-ui/icons/ExitToApp';import{TextInput}from\"../UIkit\";import{useDispatch}from'react-redux';import{push}from'connected-react-router';import{signOut}from'../../reducks/users/operations';import{db}from'../../firebase';var useStyles=makeStyles(function(theme){return createStyles({drawer:_defineProperty({},theme.breakpoints.up('sm'),{width:256,// drawerのアイコン\nflexShrink:0}),// necessary for content to be below app bar\ntoolbar:theme.mixins.toolbar,drawerPaper:{width:256},searchField:{alignItems:'center',display:'flex',marginLeft:32}});});var CloseableDrawer=function CloseableDrawer(props){var classes=useStyles();var container=props.container;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchKeyword=_useState2[0],setKeyword=_useState2[1];var dispatch=useDispatch();// テキスト入力のonchangeメソット\nvar inputSearchKeyword=useCallback(function(e){setKeyword(e.target.value);},[setKeyword]);// 配列に格納するメソットを作成する\nvar selectMenu=function selectMenu(event,path){dispatch(push(path));props.onClose(event);};// ここにカテゴリー分類を作成する\nvar _useState3=useState([{func:selectMenu,label:\"すべて\",id:\"all\",value:\"/\"},{func:selectMenu,label:\"メンズ\",id:\"male\",value:\"/?gender=male\"},{func:selectMenu,label:\"レディース\",id:\"female\",value:\"/?gender=female\"}]),_useState4=_slicedToArray(_useState3,2),filters=_useState4[0],setFilters=_useState4[1];var menus=[{func:selectMenu,label:\"商品登録\",icon:/*#__PURE__*/_jsx(AddCircleIcon,{}),id:\"register\",value:\"/product/edit\"},{func:selectMenu,label:\"注文履歴\",icon:/*#__PURE__*/_jsx(HistoryIcon,{}),id:\"history\",value:\"/order/history\"},{func:selectMenu,label:\"プロフィール\",icon:/*#__PURE__*/_jsx(PersonIcon,{}),id:\"profile\",value:\"/user/mypage\"}];// firebaseからカテゴリーを取得する\nuseEffect(function(){db.collection(\"categories\").orderBy('order','asc').get().then(function(snapshots){var list=[];snapshots.forEach(function(snapshot){var data=snapshot.data();list.push({func:selectMenu,label:data.name,id:data.id,value:\"/?category=\".concat(data.id)});});// 取得したカテゴリーを入れる\nsetFilters(function(prevState){return[].concat(_toConsumableArray(prevState),list);});});},[]);return/*#__PURE__*/_jsx(\"nav\",{className:\"classes drawer\",children:/*#__PURE__*/_jsx(Drawer,{container:container,variant:\"temporary\",anchor:\"right\",open:props.open,onClose:function onClose(e){return props.onClose(e,false);},classes:{paper:classes.drawerPaper},ModalProps:{keepMounted:true// Better open performance on mobile.\n},children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.searchField,children:[/*#__PURE__*/_jsx(TextInput,{fullWidth:false,label:\"キーワードを入力\",multiline:false,onChange:inputSearchKeyword,required:false,rows:1,value:searchKeyword,type:\"text\"}),/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(SearchIcon,{})})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(List,{children:[menus.map(function(menu){return/*#__PURE__*/_jsxs(ListItem,{button:true,onClick:function onClick(e){menu.func(e,menu.value);},children:[/*#__PURE__*/_jsx(ListItemIcon,{children:menu.icon}),/*#__PURE__*/_jsx(ListItemText,{primary:menu.label})]},menu.id);}),/*#__PURE__*/_jsxs(ListItem,{button:true,onClick:function onClick(){return dispatch(signOut());},children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(ExitToAppIcon,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"ログアウト\"})]},\"logout\")]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(List,{children:filters.map(function(filter){return/*#__PURE__*/_jsx(ListItem,{button:true,onClick:function onClick(e){filter.func(e,filter.value);},children:/*#__PURE__*/_jsx(ListItemText,{primary:filter.label})},filter.id);})})]})})});};export default CloseableDrawer;","map":{"version":3,"sources":["/Users/itoukazunari/Desktop/ec-app/src/componets/header/CloseableDrawer.jsx"],"names":["React","useCallback","useEffect","useState","Divider","Drawer","List","ListItem","ListItemIcon","ListItemText","makeStyles","createStyles","IconButton","SearchIcon","AddCircleIcon","HistoryIcon","PersonIcon","ExitToAppIcon","TextInput","useDispatch","push","signOut","db","useStyles","theme","drawer","breakpoints","up","width","flexShrink","toolbar","mixins","drawerPaper","searchField","alignItems","display","marginLeft","CloseableDrawer","props","classes","container","searchKeyword","setKeyword","dispatch","inputSearchKeyword","e","target","value","selectMenu","event","path","onClose","func","label","id","filters","setFilters","menus","icon","collection","orderBy","get","then","snapshots","list","forEach","snapshot","data","name","prevState","open","paper","keepMounted","map","menu","filter"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport {makeStyles, createStyles } from '@material-ui/core/styles';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport HistoryIcon from '@material-ui/icons/History';\nimport PersonIcon from '@material-ui/icons/Person';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport {TextInput} from \"../UIkit\";\nimport { useDispatch } from 'react-redux';\nimport {push} from 'connected-react-router'\nimport {signOut} from '../../reducks/users/operations'\nimport { db } from '../../firebase';\n\nconst useStyles = makeStyles((theme) =>\n    createStyles({\n        drawer: {\n            [theme.breakpoints.up('sm')]: {\n                width: 256, // drawerのアイコン\n                flexShrink: 0,\n            }\n        },\n        // necessary for content to be below app bar\n        toolbar: theme.mixins.toolbar,\n        drawerPaper: {\n            width: 256,\n        },\n       searchField: {\n            alignItems: 'center',\n            display: 'flex',\n            marginLeft: 32\n        }\n    }),\n);\n\nconst CloseableDrawer = (props) => {\n    const classes = useStyles();\n    const {container} = props;\n    const [searchKeyword, setKeyword] = useState(\"\")\n    const dispatch = useDispatch()\n\n    // テキスト入力のonchangeメソット\n    const inputSearchKeyword = useCallback((e)=>{\n        setKeyword(e.target.value);\n    }, [setKeyword])\n\n\n    // 配列に格納するメソットを作成する\n    const selectMenu = (event, path) => {\n         dispatch(push(path));\n         props.onClose(event)\n    }\n\n    // ここにカテゴリー分類を作成する\n    const [filters, setFilters] = useState([\n        {func: selectMenu, label: \"すべて\",    id: \"all\",    value: \"/\"              },\n        {func: selectMenu, label: \"メンズ\",    id: \"male\",   value: \"/?gender=male\"  },\n        {func: selectMenu, label: \"レディース\", id: \"female\", value: \"/?gender=female\"},\n    ])\n\n    const menus = [\n    {func: selectMenu, label: \"商品登録\",    icon: <AddCircleIcon/>, id: \"register\", value: \"/product/edit\"},\n    {func: selectMenu, label: \"注文履歴\",    icon: <HistoryIcon/>,   id: \"history\",  value: \"/order/history\"},\n    {func: selectMenu, label: \"プロフィール\", icon: <PersonIcon/>,    id: \"profile\",  value: \"/user/mypage\"},\n    ];\n\n    // firebaseからカテゴリーを取得する\n    useEffect(()=>{\n            db.collection(\"categories\")\n            .orderBy('order', 'asc')\n            .get()\n            .then((snapshots)=>{\n                const list = [];\n                snapshots.forEach((snapshot)=>{\n                    const data = snapshot.data();\n                    list.push({\n                        func: selectMenu, label: data.name,  id: data.id,  value: `/?category=${data.id}`\n                    })\n                })\n                // 取得したカテゴリーを入れる\n                setFilters(prevState => [...prevState, ...list])\n            })  \n    },[])\n\nreturn(\n<nav className=\"classes drawer\">\n    <Drawer\n        container={container}\n        variant=\"temporary\"\n        anchor={\"right\"}\n        open={props.open}\n        onClose={(e) => props.onClose(e, false)}\n        classes={{\n            paper: classes.drawerPaper,\n        }}\n        ModalProps={{\n            keepMounted: true, // Better open performance on mobile.\n        }}\n    >\n<div>\n    <div className={classes.searchField}>\n        <TextInput\n            fullWidth={false} label={\"キーワードを入力\"} multiline={false}\n            onChange={inputSearchKeyword} required={false} rows={1} value={searchKeyword} type={\"text\"}\n        />\n        <IconButton>\n            <SearchIcon />\n        </IconButton>\n    </div>\n        <Divider />\n        <List>\n        {menus.map(menu=>(\n            <ListItem button key={menu.id} onClick={(e)=>{menu.func(e, menu.value)}}\n            >\n                <ListItemIcon>\n                    {menu.icon}\n                </ListItemIcon>\n                    <ListItemText primary={menu.label}/>\n            </ListItem>\n        ))}\n        <ListItem button key=\"logout\" onClick={()=>dispatch(signOut())}>\n            <ListItemIcon>\n            <ExitToAppIcon />\n            </ListItemIcon>\n            <ListItemText primary={\"ログアウト\"}/>\n        </ListItem>\n        </List>\n        <Divider />\n        <List>\n            {filters.map(filter => (\n                <ListItem button key={filter.id} onClick={(e)=>{filter.func(e, filter.value)}}>\n                  <ListItemText primary={filter.label}/>\n                </ListItem>\n            ))}\n        </List>\n    \n</div>\n</Drawer>\n</nav>\n)\n}\n\nexport default CloseableDrawer"]},"metadata":{},"sourceType":"module"}