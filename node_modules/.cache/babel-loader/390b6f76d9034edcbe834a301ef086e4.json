{"ast":null,"code":"import _defineProperty from\"/Users/itoukazunari/Desktop/ec-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useCallback,useMemo}from'react';import{useDispatch,useSelector}from\"react-redux\";import List from\"@material-ui/core/List\";import{getProductsInCart}from\"../reducks/users/selectors\";import{CartListItem}from'../componets/Producuts/index';import{PrimaryButton,GreyButton}from'../componets/UIkit/index';import{push}from'connected-react-router';import{makeStyles}from\"@material-ui/core/styles\";import{TextDetail}from'../componets/UIkit/index';import Divider from'@material-ui/core/Divider';import{orderProduct}from'../reducks/products/operations';var useStyles=makeStyles(function(theme){var _detailBox;return{detailBox:(_detailBox={margin:'0 atuo'},_defineProperty(_detailBox,theme.breakpoints.down('sm'),{width:320}),_defineProperty(_detailBox,theme.breakpoints.up('md'),{width:512}),_detailBox),orderBox:{border:'1px solid rgba(0,0,0,0.2)',borderRadius:'4px',boxShadow:'0 4px 2px 2px rgba(0,0,0,0.2)',height:256,margin:'24px auto 16px auto',padding:16,width:288}};});var OrderConfirm=function OrderConfirm(){// スタイルの定義\nvar classes=useStyles();var dispatch=useDispatch();// storeのstateの商品情報の取得\nvar selector=useSelector(function(state){return state;});var productsInCart=getProductsInCart(selector);// 合計金額の計算\nvar subtotal=useMemo(function(){return productsInCart.reduce(function(sum,product){return sum+=product.price;},0);},[productsInCart]);// 送料の設定(1万円以上は無料)\nvar shippingFee=subtotal>=10000?0:210;// 税金\nvar tax=subtotal*0.1;var total=subtotal+shippingFee+tax;// 注文ボタンがクリックされた際に呼び出される\nvar order=useCallback(function(){dispatch(orderProduct(productsInCart,total));},[productsInCart,total]);return/*#__PURE__*/_jsxs(\"section\",{className:\"c-section-wrapin\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"u-text__headline\",children:\"\\u6CE8\\u6587\\u306E\\u78BA\\u8A8D\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-grid__row\",children:[/*#__PURE__*/_jsx(\"div\",{className:classes.detailBox,children:/*#__PURE__*/_jsx(List,{children:productsInCart.length>0&&productsInCart.map(function(product){return/*#__PURE__*/_jsx(CartListItem,{product:product},product.cartId);})})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.orderBox,children:[/*#__PURE__*/_jsx(TextDetail,{label:'商品合計',value:'¥'+subtotal.toLocaleString()+'円'}),/*#__PURE__*/_jsx(TextDetail,{label:'消費税'+'円',value:'¥'+tax+'円'}),/*#__PURE__*/_jsx(TextDetail,{label:'送料',value:'¥'+shippingFee+'円'}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(TextDetail,{label:'合計(税込み)',value:'¥'+total.toLocaleString()+'円'}),/*#__PURE__*/_jsx(PrimaryButton,{label:\"注文を確定\",onClick:function onClick(){return order();}})]})]})]});};export default OrderConfirm;","map":{"version":3,"sources":["/Users/itoukazunari/Desktop/ec-app/src/templates/OrderConfirm.jsx"],"names":["React","useCallback","useMemo","useDispatch","useSelector","List","getProductsInCart","CartListItem","PrimaryButton","GreyButton","push","makeStyles","TextDetail","Divider","orderProduct","useStyles","theme","detailBox","margin","breakpoints","down","width","up","orderBox","border","borderRadius","boxShadow","height","padding","OrderConfirm","classes","dispatch","selector","state","productsInCart","subtotal","reduce","sum","product","price","shippingFee","tax","total","order","length","map","cartId","toLocaleString"],"mappings":"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","sourcesContent":["import React, {useCallback, useMemo} from 'react';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport List from \"@material-ui/core/List\";\nimport {getProductsInCart} from \"../reducks/users/selectors\";\nimport { CartListItem } from '../componets/Producuts/index'\nimport { PrimaryButton, GreyButton } from '../componets/UIkit/index'\nimport {push} from 'connected-react-router'\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport { TextDetail } from '../componets/UIkit/index'\nimport Divider from '@material-ui/core/Divider';\nimport { orderProduct } from '../reducks/products/operations'\n\n\n\nconst useStyles = makeStyles((theme) => ({\n  detailBox: {\n    margin: '0 atuo',\n    [theme.breakpoints.down('sm')]:{\n      width: 320\n    },\n    [theme.breakpoints.up('md')]:{\n      width: 512\n    }\n  },\n  orderBox:{\n    border: '1px solid rgba(0,0,0,0.2)',\n    borderRadius: '4px',\n    boxShadow: '0 4px 2px 2px rgba(0,0,0,0.2)',\n    height: 256,\n    margin: '24px auto 16px auto',\n    padding: 16,\n    width: 288\n\n\n  }\n}))\n\nconst OrderConfirm = () => {\n\n  // スタイルの定義\n  const classes = useStyles()\n  const dispatch = useDispatch()\n\n  // storeのstateの商品情報の取得\n  const selector = useSelector((state)=> state);\n  const productsInCart = getProductsInCart(selector);\n\n  // 合計金額の計算\n  const subtotal = useMemo(() => {\n      return productsInCart.reduce((sum, product) => sum += product.price, 0)\n  }, [productsInCart])\n\n  // 送料の設定(1万円以上は無料)\n  const shippingFee = (subtotal >= 10000) ? 0 : 210;\n\n  // 税金\n  const tax = (subtotal) * 0.1\n  const total = subtotal + shippingFee + tax\n\n\n  // 注文ボタンがクリックされた際に呼び出される\n  const order = useCallback(()=>{\n    dispatch(orderProduct(productsInCart, total))\n  }, [productsInCart, total])\n\n  return(\n    <section className=\"c-section-wrapin\">\n      <h2 className=\"u-text__headline\">注文の確認</h2>\n      <div className=\"p-grid__row\">\n        <div className={classes.detailBox}>\n          <List> \n            {productsInCart.length > 0 && (\n                productsInCart.map(product => \n                  <CartListItem product={product} key={product.cartId}/>\n                  )\n            )\n            }\n          </List>\n        </div>\n        <div className={classes.orderBox}>\n          <TextDetail label={'商品合計'} value={'¥' + subtotal.toLocaleString() + '円'}/>\n          <TextDetail label={'消費税' + '円'} value={'¥' + tax+ '円'}/>\n          <TextDetail label={'送料'} value={'¥' + shippingFee + '円'}/>\n          < Divider />\n          <TextDetail label={'合計(税込み)'} value={'¥' + total.toLocaleString()+ '円'}/>\n          <PrimaryButton label={\"注文を確定\"}   onClick={()=>order()}/>\n        </div>\n      </div>\n    </section>\n  )\n}\n\nexport default OrderConfirm;"]},"metadata":{},"sourceType":"module"}